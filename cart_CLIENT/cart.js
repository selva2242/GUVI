data = [
     {
          "productName" : "T-Shirt",
          "basePrice" : 500,
          "image" : "http://placehold.it/200x200",
          "description" : "Des",
          "varients" : [
               {
                    "type" : "Size",
                    "values" : ["xl","xxl"]
               },
               {
                    "type" : "Meterial",
                    "values" : ["cotton","silk"]
               },
               {
                    "type" : "Color",
                    "values" : ["yellow","red"]
               }
          ],
          "varientDetails" : [
               {
                    "size" : "xl",
                    "meterial" : "cotton",
                    "color" : "red",
                    "addOnprice" : 30
               },
               {
                    "size" : "xl",
                    "meterial" : "cotton",
                    "color" : "yellow",
                    "addOnprice" : 40
               },
               {
                    "size" : "xl",
                    "meterial" : "silk",
                    "color" : "red",
                    "addOnprice" : 50
               },
               {
                    "size" : "xl",
                    "meterial" : "silk",
                    "color" : "yellow",
                    "addOnprice" : 60
               },
               {
                    "size" : "xxl",
                    "meterial" : "cotton",
                    "color" : "red",
                    "addOnprice" : 70
               },
               {
                    "size" : "xxl",
                    "meterial" : "cotton",
                    "color" : "yellow",
                    "addOnprice" : 80
               },
               {
                    "size" : "xxl",
                    "meterial" : "silk",
                    "color" : "red",
                    "addOnprice" : 90
               },
               {
                    "size" : "xxl",
                    "meterial" : "silk",
                    "color" : "yellow",
                    "addOnprice" : 100
               }
          ]
     },
     {
          "productName" : "Saree",
          "basePrice" :1050,
          "image" : "http://placehold.it/200x200",
          "description" : "Des",
          "varients" : [
               {
                    "type" : "Meterial",
                    "values" : ["cotton","silk"]
               },
               {
                    "type" : "Color",
                    "values" : ["yellow","red"]
               }
          ],
          "varientDetails" : [
               {
                    "meterial" : "cotton",
                    "color" : "red",
                    "addOnprice" : 30
               },
               {
                    "meterial" : "cotton",
                    "color" : "yellow",
                    "addOnprice" : 40
               },
               {
                    "meterial" : "silk",
                    "color" : "red",
                    "addOnprice" : 50
               },
               {
                    "meterial" : "silk",
                    "color" : "yellow",
                    "addOnprice" : 60
               }
          ]
     },
     {
        "productName" : "T-Shirt",
        "basePrice" : 1500,
        "image" : "http://placehold.it/200x200",
        "description" : "Des",
        "varients" : [
             {
                  "type" : "Size",
                  "values" : ["xl","xxl"]
             },
             {
                  "type" : "Meterial",
                  "values" : ["cotton","silk"]
             },
             {
                  "type" : "Color",
                  "values" : ["yellow","red"]
             }
        ],
        "varientDetails" : [
             {
                  "size" : "xl",
                  "meterial" : "cotton",
                  "color" : "red",
                  "addOnprice" : 30
             },
             {
                  "size" : "xl",
                  "meterial" : "cotton",
                  "color" : "yellow",
                  "addOnprice" : 40
             },
             {
                  "size" : "xl",
                  "meterial" : "silk",
                  "color" : "red",
                  "addOnprice" : 50
             },
             {
                  "size" : "xl",
                  "meterial" : "silk",
                  "color" : "yellow",
                  "addOnprice" : 60
             },
             {
                  "size" : "xxl",
                  "meterial" : "cotton",
                  "color" : "red",
                  "addOnprice" : 70
             },
             {
                  "size" : "xxl",
                  "meterial" : "cotton",
                  "color" : "yellow",
                  "addOnprice" : 80
             },
             {
                  "size" : "xxl",
                  "meterial" : "silk",
                  "color" : "red",
                  "addOnprice" : 90
             },
             {
                  "size" : "xxl",
                  "meterial" : "silk",
                  "color" : "yellow",
                  "addOnprice" : 100
             }
        ]
   },
   {
        "productName" : "Saree",
        "basePrice" : 2000,
        "image" : "http://placehold.it/200x200",
        "description" : "Des",
        "varients" : [
             {
                  "type" : "Meterial",
                  "values" : ["cotton","silk"]
             },
             {
                  "type" : "Color",
                  "values" : ["yellow","red"]
             }
        ],
        "varientDetails" : [
             {
                  "meterial" : "cotton",
                  "color" : "red",
                  "addOnprice" : 30
             },
             {
                  "meterial" : "cotton",
                  "color" : "yellow",
                  "addOnprice" : 40
             },
             {
                  "meterial" : "silk",
                  "color" : "red",
                  "addOnprice" : 50
             },
             {
                  "meterial" : "silk",
                  "color" : "yellow",
                  "addOnprice" : 60
             }
        ]
   },
   {
    "productName" : "T-Shirt",
    "basePrice" : 2500,
    "image" : "http://placehold.it/200x200",
    "description" : "Des",
    "varients" : [
         {
              "type" : "Size",
              "values" : ["xl","xxl"]
         },
         {
              "type" : "Meterial",
              "values" : ["cotton","silk"]
         },
         {
              "type" : "Color",
              "values" : ["yellow","red"]
         }
    ],
    "varientDetails" : [
         {
              "size" : "xl",
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 30
         },
         {
              "size" : "xl",
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 40
         },
         {
              "size" : "xl",
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 50
         },
         {
              "size" : "xl",
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 60
         },
         {
              "size" : "xxl",
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 70
         },
         {
              "size" : "xxl",
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 80
         },
         {
              "size" : "xxl",
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 90
         },
         {
              "size" : "xxl",
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 100
         }
    ]
},
{
    "productName" : "Saree",
    "basePrice" : 4000,
    "image" : "http://placehold.it/200x200",
    "description" : "Des",
    "varients" : [
         {
              "type" : "Meterial",
              "values" : ["cotton","silk"]
         },
         {
              "type" : "Color",
              "values" : ["yellow","red"]
         }
    ],
    "varientDetails" : [
         {
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 30
         },
         {
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 40
         },
         {
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 50
         },
         {
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 60
         }
    ]
},
{
    "productName" : "T-Shirt",
    "basePrice" : 9500,
    "image" : "http://placehold.it/200x200",
    "description" : "Des",
    "varients" : [
         {
              "type" : "Size",
              "values" : ["xl","xxl"]
         },
         {
              "type" : "Meterial",
              "values" : ["cotton","silk"]
         },
         {
              "type" : "Color",
              "values" : ["yellow","red"]
         }
    ],
    "varientDetails" : [
         {
              "size" : "xl",
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 30
         },
         {
              "size" : "xl",
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 40
         },
         {
              "size" : "xl",
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 50
         },
         {
              "size" : "xl",
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 60
         },
         {
              "size" : "xxl",
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 70
         },
         {
              "size" : "xxl",
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 80
         },
         {
              "size" : "xxl",
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 90
         },
         {
              "size" : "xxl",
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 100
         }
    ]
},
{
    "productName" : "Saree",
    "basePrice" : 5000,
    "image" : "http://placehold.it/200x200",
    "description" : "Des",
    "varients" : [
         {
              "type" : "Meterial",
              "values" : ["cotton","silk"]
         },
         {
              "type" : "Color",
              "values" : ["yellow","red"]
         }
    ],
    "varientDetails" : [
         {
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 30
         },
         {
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 40
         },
         {
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 50
         },
         {
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 60
         }
    ]
},
{
    "productName" : "T-Shirt",
    "basePrice" : 1800,
    "image" : "http://placehold.it/200x200",
    "description" : "Des",
    "varients" : [
         {
              "type" : "Size",
              "values" : ["xl","xxl"]
         },
         {
              "type" : "Meterial",
              "values" : ["cotton","silk"]
         },
         {
              "type" : "Color",
              "values" : ["yellow","red"]
         }
    ],
    "varientDetails" : [
         {
              "size" : "xl",
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 30
         },
         {
              "size" : "xl",
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 40
         },
         {
              "size" : "xl",
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 50
         },
         {
              "size" : "xl",
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 60
         },
         {
              "size" : "xxl",
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 70
         },
         {
              "size" : "xxl",
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 80
         },
         {
              "size" : "xxl",
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 90
         },
         {
              "size" : "xxl",
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 100
         }
    ]
},
{
    "productName" : "Saree",
    "basePrice" : 2000,
    "image" : "http://placehold.it/200x200",
    "description" : "Des",
    "varients" : [
         {
              "type" : "Meterial",
              "values" : ["cotton","silk"]
         },
         {
              "type" : "Color",
              "values" : ["yellow","red"]
         }
    ],
    "varientDetails" : [
         {
              "meterial" : "cotton",
              "color" : "red",
              "addOnprice" : 30
         },
         {
              "meterial" : "cotton",
              "color" : "yellow",
              "addOnprice" : 40
         },
         {
              "meterial" : "silk",
              "color" : "red",
              "addOnprice" : 50
         },
         {
              "meterial" : "silk",
              "color" : "yellow",
              "addOnprice" : 60
         }
    ]
}
]

productDiv = document.createElement('div')
productDiv.setAttribute('class', 'productDiv')
cartDiv = document.createElement('div')
cartDiv.setAttribute('class', 'cartDiv')
cartinnerDiv = document.createElement('div')
cartinnerDiv.id = "cartdiv"
cartDiv.appendChild(cartinnerDiv)
amountDiv = document.createElement('div')
amountDiv.id = "amount"
cartDiv.appendChild(amountDiv)
h1 = document.createElement('header')
h1.innerHTML = "CART DETAILS"
cartinnerDiv.appendChild(h1)
mainDiv = document.createElement('div')
let count = 0
data.forEach(Element=>{
    card = document.createElement('div')
    card.setAttribute('class', 'card')
    card.id = count
    header = document.createElement('header')
    header.style.backgroundColor = "darkblue"
    header.style.color = "white"
    header. id = "cod"
    header.innerHTML = Element.productName
    image = document.createElement('img')
    image.src = Element.image
    content = document.createElement('form')
    content.id = "content"+count
    Element.varients.forEach(varient=>{
        select = document.createElement('select')
        select.id = varient.type+count
        varient.values.forEach(val=>{
            option = document.createElement('option')
            option.innerHTML = val 
            select.appendChild(option)         
        })
        content.appendChild(select)

    })
    footer= document.createElement('button')
    footer.innerHTML = "Add To card"
    footer.id = count
    footer.setAttribute('onclick', "addCart('"+card.id+"','"+Element.productName+"', '"+content.id+"')")
    footer.style.backgroundColor = "Orange"
    card.appendChild(header)
    card.appendChild(image)
    card.appendChild(content)
    card.appendChild(footer)
    productDiv.appendChild(card)
    count = count +1
})
mainDiv.appendChild(productDiv)
mainDiv.appendChild(cartDiv)
document.body.appendChild(mainDiv)

//total
let totalAmount = 0

function addCart(id, product,  content){
     varient = data[parseInt(id)].varientDetails
     x = document.getElementById(content)
     combo = []
     let match = true
     for(let i=0;i<x.length;i++)
     combo.push(x.elements[i].value)
     varient.forEach((val)=>{
          nval = Object.values(val)
          match = true
          combo.forEach((Element)=>{
               if(nval.includes(Element)){
               }
               else{
                    match = false
               }
          })
          if(match===true){
               div = document.createElement('div')
               rate = parseInt(val.addOnprice)+parseInt(data[id].basePrice)
               totalAmount += rate
               div.innerHTML = product + " " + rate
               document.getElementById("cartdiv").appendChild(div)
               br = document.createElement('br')
               document.getElementById("cartdiv").appendChild(br)
     
               document.getElementById("amount").innerHTML = "TOTAL "+totalAmount
               return false;
          }

     })
}